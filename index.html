<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ê²½ìˆ˜ë‹˜ì˜ ë‰´ìŠ¤ ì‚¬ì´íŠ¸</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    main {
      padding: 2rem;
    }

    ul#article-list {
      list-style: none;
      padding: 0;
    }

    ul#article-list li {
      margin-bottom: 10px;
    }

    ul#article-list li a {
      text-decoration: none;
      color: #0077cc;
      cursor: pointer;
    }

    .news-detail {
      margin-top: 2rem;
      padding-top: 1rem;
      border-top: 1px solid #ccc;
    }

    .news-detail h3 {
      margin-bottom: 0.5rem;
    }

    .news-detail .date {
      font-size: 0.9rem;
      color: gray;
    }

    .news-detail .content {
      margin-top: 1rem;
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="container">
      <button class="menu-toggle" aria-label="ë©”ë‰´ ì—´ê¸°">
        <i class="fas fa-bars"></i>
      </button>
      <div class="logo-wrapper">
        <img src="logo.png" alt="ë‰´ìŠ¤ì‚¬ì´íŠ¸ ë¡œê³ " class="logo" />
      </div>
    </div>
  </header>

  <div class="sidebar-overlay"></div>
  <aside class="sidebar">
    <button class="close-btn" aria-label="ë©”ë‰´ ë‹«ê¸°">
      <i class="fas fa-times"></i>
    </button>
    <nav class="sidebar-nav">
      <ul>
        <li><a href="index.html">í™ˆ</a></li>
        <li><a href="articles.html">ë‰´ìŠ¤</a></li> <!-- ìˆ˜ì •ëœ ë¶€ë¶„ -->
      </ul>
    </nav>
  </aside>

  <main>
    <h2>ğŸ“° ì „ì²´ ê¸°ì‚¬ ëª©ë¡</h2>
    <ul id="article-list"></ul>

    <section class="news-detail" id="news-detail" style="display: none;">
      <h3 id="article-title"></h3>
      <p class="date" id="article-date"></p>
      <div class="content" id="article-content"></div>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 ë‰´ìŠ¤ ì‚¬ì´íŠ¸</p>
  </footer>

  <!-- ìµœì‹ ê¸°ì‚¬ ëª‡ê°œë§Œ ë³´ì—¬ì¤Œ. ì˜ˆë¥¼ë“¤ì–´ ì¡°íšŒ ìˆ˜ ë§ì€ ê²ƒ -->
  <script>
    const articleFiles = [
      "articles/article-1.json",
      "articles/article-2.json",
      "articles/article-3.json"
    ];

    const listEl = document.getElementById("article-list");
    const detailEl = document.getElementById("news-detail");
    const titleEl = document.getElementById("article-title");
    const dateEl = document.getElementById("article-date");
    const contentEl = document.getElementById("article-content");

    // ìµœìƒë‹¨ì— test.json ê¸°ì‚¬ í‘œì‹œ
    fetch('articles/test.json')
      .then(res => res.json())
      .then(data => {
        const mainArticle = document.createElement('div');
        mainArticle.classList.add('main-article'); // ìŠ¤íƒ€ì¼ë§ì„ ìœ„í•œ í´ë˜ìŠ¤ ì¶”ê°€

        const articleLink = document.createElement('a');
        articleLink.href = '#test'; // test.jsonì— í•´ë‹¹í•˜ëŠ” id (ì¶”í›„ ìˆ˜ì • ê°€ëŠ¥)
        articleLink.onclick = (e) => {
          e.preventDefault();
          loadArticle('articles/test.json');
        };

        const image = document.createElement('img');
        image.src = 'images/jeju.png'; // ì´ë¯¸ì§€ ê²½ë¡œ
        image.alt = data.title;
        image.style.maxHeight = '200px'; // ì´ë¯¸ì§€ ìµœëŒ€ ë†’ì´ ì œí•œ

        const title = document.createElement('h3'); // h2ì—ì„œ h3ìœ¼ë¡œ ë³€ê²½
        title.textContent = data.title;

        articleLink.append(image, title);
        mainArticle.appendChild(articleLink);
        listEl.prepend(mainArticle); // ulì˜ ìµœìƒë‹¨ì— ì¶”ê°€
      });

      // ë‚˜ë¨¸ì§€ ê¸°ì‚¬ ëª©ë¡ ìƒì„±
      articleFiles.forEach(file => {
        if (file !== 'articles/test.json') { // test.json ì œì™¸
          fetch(file)
            .then(res => res.json())
            .then(data => {
              const li = document.createElement("li");
              const a = document.createElement("a");
              a.textContent = `${data.title} (${new Date(data.date).toLocaleDateString()})`;
              a.href = "#";
              a.onclick = (e) => {
                e.preventDefault();
                loadArticle(file);
              };
              li.appendChild(a);
              listEl.appendChild(li);
            });
        }
      });

    function loadArticle(file) {
      fetch(file)
        .then(res => res.json())
        .then(data => {
          titleEl.textContent = data.title;
          dateEl.textContent = `ì‘ì„±ì¼: ${new Date(data.date).toLocaleDateString()}`;
          contentEl.innerHTML = data.content; // test.jsonì˜ content í‘œì‹œ
          detailEl.style.display = "block";
          detailEl.scrollIntoView({ behavior: "smooth" });
        });
    }
  </script>

  <script src="script.js"></script>
</body>
</html>
